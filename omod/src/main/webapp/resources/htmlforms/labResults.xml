<htmlform formUuid="4d778ef4-0620-11e5-a6c0-1697f925ec7b" formName="Lab results"
          formEncounterType="4d77916a-0620-11e5-a6c0-1697f925ec7b" formVersion="1.0">

    <style type="text/css">

        .section-header {
        margin-top: 1.5em;
        }

        .two-columns {
        column-count: 2;
        -webkit-column-count: 2;
        -moz-column-count: 2;
        }

        p.radio > * {
        display: inline;
        float: none !important;
        min-width: initial;
        }
    </style>

    <!--TODO: Confirm what would go here (imaging? psych? what else?) -->

    <section id="labResults" sectionTag="section" headerStyle="title" headerCode="pihcore.lab.blood_tests.title">
        <fieldset class="multi-line-confirmation">
            <legend>
                <uimessage code="pihcore.lab.hematology.title"/>
            </legend>
            <h3>
                <uimessage code="pihcore.lab.hematology.title"/>
            </h3>

            <p>

                <obsgroup groupingConceptId="PIH:Hematology construct">

                    <label for="hemoglobin">
                        <uimessage code="pihcore.lab.hemoglobin"/>
                    </label>
                    <span class="small">
                        <field id="hemoglobin">
                            <obs conceptId="PIH:HEMOGLOBIN" showUnits="true"/>
                        </field>
                    </span>

                    <label for="hematocrit">
                        <uimessage code="pihcore.lab.hematocrit"/>
                    </label>
                    <span class="small">
                        <field id="hematocrit">
                            <obs conceptId="PIH:HEMATOCRIT" showUnits="true"/>
                        </field>
                    </span>

                    <label for="white-blood-cell">
                        <uimessage code="pihcore.lab.white_blood_cell"/>
                    </label>
                    <span class="small">
                        <field id="white-blood-cell">
                            <obs conceptId="PIH:WHITE BLOOD CELLS" showUnits="true"/>
                        </field>
                    </span>

                    <label for="neutrophil">
                        <uimessage code="pihcore.lab.neutrophil"/>
                    </label>
                    <span class="small">
                        <field id="neutrophil">
                            <obs conceptId="PIH:Absolute Neutrophil Count" showUnits="true"/>
                        </field>
                        <field>
                            (<obs conceptId="PIH:NEUTROPHILS" showUnits="true"/>)
                        </field>
                    </span>

                    <label for="lymphocyte">
                        <uimessage code="pihcore.lab.lymphocyte"/>
                    </label>
                    <span class="small">
                        <field id="lymphocyte">
                            <obs conceptId="PIH:ABSOLUTE LYMPHOCYTE COUNT" showUnits="true"/>
                        </field>
                        <field>
                            (<obs conceptId="PIH:LYMPHOCYTES" showUnits="true"/>)
                        </field>
                    </span>

                    <label for="platelets">
                        <uimessage code="pihcore.lab.platelets"/>
                    </label>
                    <span class="small">
                        <field id="platelets">
                            <obs conceptId="PIH:PLATELETS" showUnits="true"/>
                        </field>
                    </span>

                    <label for="esr">
                        <uimessage code="pihcore.lab.esr"/>
                    </label>
                    <span class="small">
                        <field id="esr">
                            <obs conceptId="PIH:ERYTHROCYTE SEDIMENTATION RATE" showUnits="true"/>
                        </field>
                    </span>

                    <label for="test-date-hematology">
                        <uimessage code="pihcore.lab.test_date"/>
                    </label>
                    <span class="small">
                        <field id="test-date-hematology">
                            <obs conceptId="PIH:DATE OF LABORATORY TEST" placeholder="Enter date"/>
                        </field>
                    </span>

                </obsgroup>
            </p>

        </fieldset>

        <fieldset class="multi-line-confirmation">

            <legend>
                <uimessage code="pihcore.lab.biochemistry.title"/>
            </legend>
            <h3>
                <uimessage code="pihcore.lab.biochemistry.title"/>
            </h3>
            <p>

                <obsgroup groupingConceptId="PIH:Biochemistry construct">

                    <label for="creatinine">
                        <uimessage code="pihcore.lab.creatinine"/>
                    </label>
                    <span class="small">
                        <field>
                            <obs id="creatinine" conceptId="PIH:SERUM CREATININE" showUnits="true"/>
                        </field>
                    </span>

                    <label for="bilirubin">
                        <uimessage code="pihcore.lab.bilirubin"/>
                    </label>
                    <span class="small">
                        <field>
                            <obs id="bilirubin" conceptId="PIH:TOTAL BILIRUBIN" showUnits="true"/>
                        </field>
                    </span>

                    <label for="serum-glutamic-oxaloacetic-transaminase">SGOT</label>
                    <span class="small">
                        <field>
                            <obs id="serum-glutamic-oxaloacetic-transaminase" conceptId="PIH:SERUM GLUTAMIC-OXALOACETIC TRANSAMINASE" showUnits="true"/>
                        </field>
                    </span>

                    <label for="serum-glutamic-pyruvic-transaminase">SGPT</label>
                    <span class="small">
                        <field id="serum-glutamic-pyruvic-transaminase">
                            <obs id="serum-glutamic-pyruvic-transaminase" conceptId="PIH:SERUM GLUTAMIC-PYRUVIC TRANSAMINASE" showUnits="true"/>
                        </field>
                    </span>

                    <label for="alk-phos">
                        <uimessage code="pihcore.lab.alk_phos"/>
                    </label>
                    <span class="small">
                        <field>
                            <obs id="alk-phos" conceptId="PIH:ALKALINE PHOSPHATASE" showUnits="true"/>
                        </field>
                    </span>

                    <label for="test-date-biochemistry">
                        <uimessage code="pihcore.lab.test_date"/>
                    </label>
                    <span class="small">
                        <field>
                            <obs id="test-date-biochemistry" conceptId="PIH:DATE OF LABORATORY TEST" placeholder="Enter date"/>
                        </field>
                    </span>
                </obsgroup>
            </p>

        </fieldset>

        <fieldset class="multi-line-confirmation">

            <legend>
                <uimessage code="pihcore.lab.iStat.title"/>
            </legend>
            <h3>
                <uimessage code="pihcore.lab.iStat.title"/>
            </h3>

            <p>

                <obsgroup groupingConceptId="PIH:i-STAT CHEM 8+ construct">

                    <label for="sodium">
                        <uimessage code="pihcore.lab.sodium"/>
                    </label>
                    <span class="small">
                        <field>
                            <obs id="sodium" conceptId="PIH:SERUM SODIUM"/>
                        </field>
                    </span>
                    <label for="potassium">
                        <uimessage code="pihcore.lab.potassium"/>
                    </label>
                    <span class="small">
                        <field>
                            <obs id="potassium" conceptId="PIH:SERUM POTASSIUM"/>
                        </field>
                    </span>
                    <label for="serum-chloride">
                        <uimessage code="pihcore.lab.chloride"/>
                    </label>
                    <span class="small">
                        <field>
                            <obs id="serum-chloride" conceptId="PIH:SERUM CHLORIDE"/>
                        </field>
                    </span>
                    <label for="co2">
                        <uimessage code="pihcore.lab.co2"/>
                    </label>
                    <span class="small">
                        <field>
                            <obs for="co2" conceptId="PIH:SERUM CARBON DIOXIDE"/>
                        </field>
                    </span>
                    <label for="urea">
                        <uimessage code="pihcore.lab.urea"/>
                    </label>
                    <span class="small">
                        <field>
                            <obs id="urea" conceptId="PIH:BLOOD UREA NITROGEN"/>
                        </field>
                    </span>
                    <label for="creatinine-i-stat">
                        <uimessage code="pihcore.lab.creatinine"/>
                    </label>
                    <span class="small">
                        <field>
                            <obs id="creatinine-i-stat" conceptId="PIH:SERUM CREATININE"/>
                        </field>
                    </span>
                    <label for="glucose">
                        <uimessage code="pihcore.lab.glucose"/>
                    </label>
                    <span class="small">
                        <field>
                            <obs id="glucose" conceptId="PIH:SERUM GLUCOSE"/>
                        </field>
                    </span>
                    <label for="calcium">
                        <uimessage code="pihcore.lab.calcium"/>
                    </label>
                    <span class="small">
                        <field>
                            <obs id="calcium" conceptId="PIH:SERUM CALCIUM"/>
                        </field>
                    </span>

                    <label for="test-date-i-stat">
                        <uimessage code="pihcore.lab.test_date"/>
                    </label>
                    <span class="small">
                        <field>
                            <obs id="test-date-i-stat" conceptId="PIH:DATE OF LABORATORY TEST" placeholder="Enter date"/>
                        </field>
                    </span>

                </obsgroup>

            </p>
        </fieldset>

        <fieldset class="multi-line-confirmation">

            <legend>
                <uimessage code="pihcore.lab.lipids.title"/>
            </legend>
            <h3>
                <uimessage code="pihcore.lab.lipids.title"/>
            </h3>
            <p>
                <obsgroup groupingConceptId="PIH:Lipid panel construct">
                    <label for="total-chol">
                        <uimessage code="pihcore.lab.total_chol"/>
                    </label>
                    <span class="small">
                        <field>
                            <obs id="total-chol" conceptId="PIH:TOTAL CHOLESTEROL"/>
                        </field>
                    </span>

                    <label for="ldl">
                        <uimessage code="pihcore.lab.ldl"/>
                    </label>
                    <span class="small">
                        <field>
                            <obs id="ldl" conceptId="PIH:LOW-DENSITY LIPOPROTEIN CHOLESTEROL"/>
                        </field>
                    </span>

                    <label for="hdl">
                        <uimessage code="pihcore.lab.hdl"/>
                    </label>
                    <span class="small">
                        <field>
                            <obs id="hdl" conceptId="PIH:HIGH-DENSITY LIPOPROTEIN CHOLESTEROL"/>
                        </field>
                    </span>

                    <label for="trigly">
                        <uimessage code="pihcore.lab.trigly"/>
                    </label>
                    <span class="small">
                        <field>
                            <obs id="trigly" conceptId="PIH:TRIGLYCERIDES"/>
                        </field>
                    </span>

                    <label for="test-date-lipids">
                        <uimessage code="pihcore.lab.test_date"/>
                    </label>
                    <span class="small">
                        <field>
                            <obs id="test-date-lipids" conceptId="PIH:DATE OF LABORATORY TEST" placeholder="Enter date"/>
                        </field>
                    </span>
                </obsgroup>
            </p>

        </fieldset>

        <fieldset class="multi-line-confirmation">

            <legend>
                <uimessage code="pihcore.lab.hiv.title"/>
            </legend>
            <h3>
                <uimessage code="pihcore.lab.hiv.title"/>
            </h3>
            <p>
                <label for="cd4">
                    <uimessage code="pihcore.lab.cd4"/>(value,date)
                </label>
                <span class="small">
                    <field>
                        <obs id="cd4" conceptId="PIH:CD4 COUNT" placeholder="Enter value" showDate="true"/>
                    </field>
                </span>
                <!-- ToDo: Add other HIV tests (ie. Viral load, PCR, ELISA, etc) -->
            </p>

        </fieldset>

        <fieldset class="multi-line-confirmation">

            <legend>
                <uimessage code="pihcore.other"/>
            </legend>
            <h3>
                <uimessage code="pihcore.other"/>
            </h3>
            <p>
                <label for="malarial-smear">
                    <uimessage code="pihcore.lab.malarial_smear"/>
                    (value,date)
                </label>
                <span class="small">
                    <field>
                        <obs id="malarial-smear" conceptId="PIH:MALARIAL SMEAR" placeholder="Enter value" showDate="true"/>
                    </field>
                </span>

                <label for="ldh">
                    <uimessage code="pihcore.lab.ldh"/>
                    (value,date)
                </label>
                <span class="small">
                    <field>
                        <obs id="ldh" conceptId="PIH:LACTATE DEHYDROGENASE" placeholder="Enter value" showDate="true"/>
                    </field>
                </span>

                <label for="inr">
                    <uimessage code="pihcore.lab.inr"/>
                    (value,date)
                </label>
                <span class="small">
                    <field>
                        <obs id="inr" conceptId="PIH:INTERNATIONAL NORMALIZED RATIO" placeholder="Enter value" showDate="true"/>
                    </field>
                </span>
            </p>

            <p>
                <!-- ToDo: Add other lab tests or free-text
                <strong><uimessage code="pihcore.other"/></strong>
                  -->
            </p>


        </fieldset>
    </section>

    <!-- TdDo: What to do about retrospective entry?  Check the who? when? where? -->
    <div class="hidden" id="encounter-details" sectionTag="section" headerStyle="title" headerLabel="Encounter Details">
        <fieldset>
            <legend>When?</legend>
            <label>When?</label>

            <encounterDate default="now" showTime="false"/>
        </fieldset>

        <fieldset>
            <legend>Who?</legend>
            <label>Who?</label>

            <encounterProviderAndRole default="currentUser" encounterRole="4f10ad1a-ec49-48df-98c7-1391c6ac7f05"
                                      required="true"/>
        </fieldset>

        <fieldset>
            <legend>Where?</legend>
            <label>Where?</label>

            <encounterLocation default="SessionAttribute:emrContext.sessionLocationId"/>
        </fieldset>
    </div>

    <submit/>

</htmlform>