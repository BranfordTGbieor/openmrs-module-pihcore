<htmlform formUuid="9EE91561-42A0-4E1C-9469-ABA6726056BE" formName="Patient Registration Contact Person" formEncounterType="873f968a-73a8-4f9c-ac78-9f4778b751b6" formVersion="1.0">

    <!-- TODO find a better way to do this rather than copying the entire form: all we are doing here is making the fields not required -->

    <script type="text/javascript">

        jq(function() {

        // remove the first title span that is automatically generated by the HFE
        if ( jq("#contactPerson span.title").length ) {
        jq("#contactPerson span.title").remove();
        }

        });
    </script>

    <!-- ENTER/EDIT VERSION OF THE FORM -->
    <ifMode mode="VIEW" include="false">

        <div class="hidden">
            <encounterProviderAndRole default="currentUser" encounterRole="cbfe0b9d-9923-404c-941b-f048adc8cdc0" required="true"/>
            <encounterLocation default="SessionAttribute:emrContext.sessionLocationId"/>
        </div>

        <input id="displayEncounterDate" value="false" type="hidden" />

        <section id="contactPerson" sectionTag="section" headerStyle="title" headerCode="zl.registration.patient.contactPerson.label">
            <obsgroup groupingConceptId="PIH:PATIENT CONTACTS CONSTRUCT">

            <fieldset>
                <legend>
                    <uimessage code="zl.registration.patient.contactPerson.name.label"/>
                </legend>
                <h3>
                    <uimessage code="zl.registration.patient.contactPerson.contactName.question"/>
                </h3>
                <p class="left">
                    <obs conceptId="PIH:NAMES AND FIRSTNAMES OF CONTACT" id="contactFirstName" showUnits="false" unitsCssClass="append-to-value" size="20"/>
                </p>

            </fieldset>
            <fieldset>
                <legend>
                    <uimessage code="zl.registration.patient.contactPerson.relationships.label"/>
                </legend>
                <h3>
                    <uimessage code="zl.registration.patient.contactPerson.relationships.question"/>
                </h3>
                <p class="left">
                    <obs conceptId="PIH:RELATIONSHIPS OF CONTACT" id="contactRelationship" showUnits="false" unitsCssClass="append-to-value" size="20"/>
                </p>
            </fieldset>
            <fieldset>
                <legend>
                    <uimessage code="zl.registration.patient.contactPerson.address.label"/>
                </legend>
                <h3>
                    <uimessage code="zl.registration.patient.contactPerson.address.question"/>
                </h3>
                <p class="left">
                    <obs conceptId="PIH:ADDRESS OF PATIENT CONTACT" id="contactAddress" style="textarea" rows="5" cols="60" maxlength="250" showUnits="false" unitsCssClass="append-to-value" />
                </p>
            </fieldset>
            <fieldset>
                <legend>
                    <uimessage code="zl.registration.patient.contactPerson.phonenumber.label"/>
                </legend>
                <h3>
                    <uimessage code="zl.registration.patient.contactPerson.phonenumber.question"/>
                </h3>
                <p class="left">
                    <p class="left">
                        <obs conceptId="PIH:TELEPHONE NUMBER OF CONTACT" id="contactPhoneNumber" showUnits="false" unitsCssClass="append-to-value" size="20" />
                    </p>
                </p>
            </fieldset>

            </obsgroup>
        </section>
    </ifMode>
    <!-- END ENTER/EDIT VERSION OF THE FORM -->

    <!-- START VIEW VERSION OF THE FORM (just display answers to obs, not provider, date, location -->
    <ifMode mode="VIEW">

        <!-- we include section so the most recent encounter app can include a custom header/title in the title span that HFE creates -->
        <section id="contactPerson" sectionTag="section" headerStyle="title" headerLabel="zl.registration.patient.contactPerson.label">

            <obsgroup groupingConceptId="PIH:PATIENT CONTACTS CONSTRUCT">

                <fieldset>
                    <legend>
                        <uimessage code="zl.registration.patient.contactPerson.name.label"/>
                    </legend>
                    <h3>
                        <uimessage code="zl.registration.patient.contactPerson.contactName.question"/>
                    </h3>

                    <p class="left">
                        <obs conceptId="PIH:NAMES AND FIRSTNAMES OF CONTACT" id="contactFirstName" showUnits="false" unitsCssClass="append-to-value" size="20"/>
                    </p>

                </fieldset>
                <fieldset>
                    <legend>
                        <uimessage code="zl.registration.patient.contactPerson.relationships.label"/>
                    </legend>
                    <h3>
                        <uimessage code="zl.registration.patient.contactPerson.relationships.label"/>
                    </h3>
                    <p class="left">
                        <obs conceptId="PIH:RELATIONSHIPS OF CONTACT" id="contactRelationship" showUnits="false" unitsCssClass="append-to-value" size="20"/>
                    </p>
                </fieldset>

                <fieldset>
                    <legend>
                        <uimessage code="zl.registration.patient.contactPerson.address.label"/>
                    </legend>
                    <h3>
                        <uimessage code="zl.registration.patient.contactPerson.address.label"/>
                    </h3>
                    <p class="left">
                        <obs conceptId="PIH:ADDRESS OF PATIENT CONTACT" id="contactAddress" style="textarea" rows="5" cols="60" maxlength="250" showUnits="false" unitsCssClass="append-to-value" />
                    </p>
                </fieldset>
                <fieldset>
                    <legend>
                        <uimessage code="zl.registration.patient.contactPerson.phonenumber.label"/>
                    </legend>
                    <h3>
                        <uimessage code="zl.registration.patient.contactPerson.phonenumber.label"/>
                    </h3>
                    <p class="left">
                        <p class="left">
                            <obs conceptId="PIH:TELEPHONE NUMBER OF CONTACT" id="contactPhoneNumber" showUnits="false" unitsCssClass="append-to-value" size="20" />
                        </p>
                    </p>
                </fieldset>
            </obsgroup>

        </section>

    </ifMode>
    <!-- END VIEW VERSION OF THE FORM -->

</htmlform>
